<!-- app/views/course_evaluations/show.html.erb -->
<div class="container">
  <h1>Course Evaluation Details</h1>
  
  <div class="mb-3">
    <%= link_to "Back to All Evaluations", "/course_evaluations", class: "btn btn-secondary" %>
  </div>
  
  <div class="card mb-4">
    <div class="card-header">
      <h3>Course Information</h3>
    </div>
    <div class="card-body">
      <div class="row">
        <div class="col-md-6">
          <p><strong>Course Name:</strong> <%= @evaluation.course_name %></p>
          <p><strong>Course Section:</strong> <%= @evaluation.course_section %></p>
        </div>
        <div class="col-md-6">
          <p><strong>Instructor:</strong> <%= "#{@evaluation.first_name} #{@evaluation.last_name}" %></p>
          <p><strong>Term:</strong> <%= @evaluation.term %></p>
        </div>
      </div>
    </div>
  </div>
  
  <div class="card mb-4">
    <div class="card-header">
      <h3>Response Statistics</h3>
    </div>
    <div class="card-body">
      <div class="row">
        <div class="col-md-4">
          <p><strong>Invited Count:</strong> <%= @evaluation.invited_count %></p>
        </div>
        <div class="col-md-4">
          <p><strong>Respondent Count:</strong> <%= @evaluation.respondent_count %></p>
        </div>
        <div class="col-md-4">
          <p><strong>Response Rate:</strong> <%= @evaluation.response_ratio ? "#{@evaluation.response_ratio.round(1)}%" : "N/A" %></p>
        </div>
      </div>
    </div>
  </div>
  
  <div class="card">
    <div class="card-header">
      <h3>Course Ratings</h3>
    </div>
    <div class="card-body">
      <div class="row">
        <div class="col-md-4 mb-3">
          <div class="card">
            <div class="card-body text-center">
              <h5>Clarity</h5>
              <div class="display-4"><%= @evaluation.clarity_mean&.round(2) || "N/A" %></div>
              <small class="text-muted">Did the instructor convey the course material clearly?</small>
            </div>
          </div>
        </div>
        
        <div class="col-md-4 mb-3">
          <div class="card">
            <div class="card-body text-center">
              <h5>Interest</h5>
              <div class="display-4"><%= @evaluation.interest_mean&.round(2) || "N/A" %></div>
              <small class="text-muted">Did the instructor convey the course material in an interesting way?</small>
            </div>
          </div>
        </div>
        
        <div class="col-md-4 mb-3">
          <div class="card">
            <div class="card-body text-center">
              <h5>Tools & Insights</h5>
              <div class="display-4"><%= @evaluation.tools_insights_mean&.round(2) || "N/A" %></div>
              <small class="text-muted">Did you take away useful tools, concepts, and/or insights?</small>
            </div>
          </div>
        </div>
        
        <div class="col-md-4 mb-3">
          <div class="card">
            <div class="card-body text-center">
              <h5>Hours Prep</h5>
              <div class="display-4"><%= @evaluation.avg_hours_prep&.round(1) || "N/A" %></div>
              <small class="text-muted">Average hours per week spent in preparation</small>
            </div>
          </div>
        </div>
        
        <div class="col-md-4 mb-3">
          <div class="card">
            <div class="card-body text-center">
              <h5>Value</h5>
              <div class="display-4"><%= @evaluation.value_mean&.round(2) || "N/A" %></div>
              <small class="text-muted">How much did you get out of this course?</small>
            </div>
          </div>
        </div>
        
        <div class="col-md-4 mb-3">
          <div class="card">
            <div class="card-body text-center">
              <h5>Recommendation</h5>
              <div class="display-4"><%= @evaluation.recommendation_mean&.round(2) || "N/A" %></div>
              <small class="text-muted">Would you recommend this course to other students?</small>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
